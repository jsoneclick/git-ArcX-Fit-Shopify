<style>
  #shopify-section-{{ section.id }} {
    position: relative;
    background-color: {{section.settings.background_color}};
    background: {{section.settings.background_gradient}};
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    padding: 4rem;
    gap: 1.5rem;
  }
  #shopify-section-{{ section.id }} .animated-button {
    width: 200px;
    padding: 1rem 0;
    background: linear-gradient(-264deg, #5252FF -5.79%, #0EC3FF 129.5%);
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 4rem;
    cursor: pointer;
    box-shadow: 1px 1px 35px 1px rgba(38, 43, 45, 0.35);
    z-index:1;
    overflow: hidden;
    /* animation: fadeOut 8s infinite; */
  }
   #shopify-section-{{ section.id }} .button-container {
    display: flex;
    justify-content: center;
    align-items: center;
  }
  
  #shopify-section-{{ section.id }} .prose {
    color: {{section.settings.prose_color}};
    font-family: '{{section.settings.prose-weight}}' !important;
    font-size: {{section.settings.prose-size}} !important;
  }

 #shopify-section-{{ section.id }} .scrolling-words-container {
  display: flex;
  align-items: center;
  font-size: 2rem;
  font-weight: 600; 
}

 #shopify-section-{{ section.id }} .scrolling-words-box {
  height: 3rem;
  margin: auto;
}

 #shopify-section-{{ section.id }} .scrolling-words-box ul {
  padding: 0;
  width: 800px;
  margin: 0;
  /* animation: scrollUp 8s infinite; */
   /* animation-delay: .5s; */
  display: flex;
  justify-content: space-around;
  align-items: center;
   transform: translateX(-500px)
}

 #shopify-section-{{ section.id }} .scrolling-words-box ul li {
  display: flex;
  align-items: center;
  justify-content:  center;
  height: 3rem;
  padding: 0;
  margin: 0;
  list-style: none;
}
   #shopify-section-{{ section.id }} .scrolling-words-box ul li:nth-child(3) svg {
    margin-left: .5rem;
    transition: transform .4s;
    transform: translateX(0%);
    fill: white;
}

  @keyframes moveLeft{
    5%, 10% {
    margin-left: .5rem;
  }
  
  30%, 35% {
    margin-left: .5rem;
  }
  
  55%, 60% {
    margin-left: .15rem;
  }
  
  80%, 95% {
    margin-left: .5rem;
  }
  95%, 100% {
    margin-left: .5rem;
  }
  }
  

/* Variables */
:root {
  --item-count: 5;
}

@keyframes scrollUp {
  0%, 31% {
    transform: translateX(-300px);
    opacity: 1;
  }
  31%, 62% {
    transform: translateX(-100px);
    opacity: 1;
  }
  
  62%, 93% {
    transform: translateX(100px);
    opacity: 1;
  }
  
  93%, 100% {
    transform: translateX(300px);
    opacity: 1;
  }
}
  @keyframes fadeOut {
  5%, 10% {
    background: linear-gradient(-264deg, #5252FF -5.79%, #0EC3FF 129.5%);
  }
  
  30%, 35% {
    background: linear-gradient(-264deg, #5252FF -5.79%, #0EC3FF 129.5%);
  }
  
  55%, 60% {
    background: none;
    box-shadow: none;
  }
  
  80%, 95% {
    background: linear-gradient(-264deg, #5252FF -5.79%, #0EC3FF 129.5%);
  }
  95%, 100% {
    background: linear-gradient(-264deg, #5252FF -5.79%, #0EC3FF 129.5%);
  }
}

 #shopify-section-{{ section.id }}  #musicText span{
    font-family: '{{section.settings.prose-weight}}' !important;
    font-size: {{section.settings.prose-size}} !important;
    transition: .6s;
  }

  @media screen and (max-width: 990px) {
     #shopify-section-{{ section.id }} .prose {
    font-size: var(--text-h2) !important;
       white-space: nowrap;
  }
    #shopify-section-{{ section.id }}  #musicText span{
    font-family: '{{section.settings.prose-weight}}' !important;
    font-size: var(--text-base) !important;
    transition: .6s;
      white-space: nowrap;
  }
 #shopify-section-{{ section.id }}{
   padding: 2rem;
 }
    
  }
  
  </style>
  <div class="button-container">
  <div class="animated-button">
    <div class="scrolling-words-box">
    <ul id="svg-list">
      <li>
        <svg xmlns="http://www.w3.org/2000/svg" width="35" height="36" viewBox="0 0 35 36" fill="none">
          <path d="M33.5521 17.1402C34.2047 17.5277 34.2047 18.4723 33.5521 18.8598L10.2606 32.6914C9.59401 33.0872 8.75 32.6068 8.75 31.8316L8.75 4.16842C8.75 3.39315 9.59401 2.91275 10.2606 3.30861L33.5521 17.1402Z" fill="#FDFCFE"/>
        </svg>
      </li>
      <li>
        <svg width="38" height="38" viewBox="0 0 321 307" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M63.1552 117.694C62.4452 117.102 61.6253 116.655 60.7426 116.38C59.8599 116.105 58.9316 116.006 58.0107 116.09C57.0898 116.173 56.1945 116.438 55.3758 116.867C54.5571 117.297 53.8312 117.884 53.2395 118.595L29.7838 146.745C29.1659 147.451 28.6955 148.274 28.4003 149.164C28.1051 150.055 27.991 150.996 28.0647 151.931C28.1385 152.867 28.3985 153.778 28.8297 154.611C29.2608 155.445 29.8543 156.184 30.5751 156.785C31.296 157.385 32.1298 157.836 33.0273 158.11C33.9249 158.383 34.8681 158.475 35.8016 158.379C36.735 158.282 37.6398 158.001 38.4627 157.55C39.2856 157.099 40.01 156.488 40.5933 155.752L64.056 127.603C65.25 126.169 65.8259 124.32 65.6569 122.462C65.488 120.604 64.5882 118.889 63.1552 117.694Z" fill="#FDFCFE"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M63.1552 184.803C64.5882 183.608 65.488 181.893 65.6569 180.035C65.8259 178.177 65.25 176.328 64.056 174.894L40.5933 146.745C40.01 146.009 39.2856 145.398 38.4627 144.947C37.6398 144.496 36.735 144.215 35.8016 144.118C34.8681 144.022 33.9249 144.114 33.0273 144.387C32.1298 144.661 31.296 145.112 30.5751 145.712C29.8543 146.313 29.2608 147.052 28.8297 147.885C28.3985 148.719 28.1385 149.63 28.0647 150.566C27.991 151.501 28.1051 152.442 28.4003 153.333C28.6955 154.223 29.1659 155.046 29.7838 155.752L53.2395 183.902C53.8312 184.613 54.5571 185.2 55.3758 185.629C56.1945 186.059 57.0898 186.324 58.0107 186.407C58.9316 186.491 59.8599 186.392 60.7426 186.117C61.6253 185.842 62.4452 185.395 63.1552 184.803Z" fill="#FDFCFE"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M42.2266 151.249C42.2266 153.115 42.968 154.905 44.2878 156.225C45.6075 157.545 47.3975 158.286 49.264 158.286L105.563 158.286C107.43 158.286 109.22 157.545 110.54 156.225C111.859 154.905 112.601 153.115 112.601 151.249C112.601 149.382 111.859 147.592 110.54 146.272C109.22 144.953 107.43 144.211 105.563 144.211L49.264 144.211C47.3975 144.211 45.6075 144.953 44.2878 146.272C42.968 147.592 42.2266 149.382 42.2266 151.249Z" fill="#FDFCFE"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M251.2 117.76C251.982 117.166 252.884 116.719 253.857 116.443C254.829 116.167 255.851 116.069 256.865 116.152C257.879 116.236 258.865 116.501 259.767 116.932C260.668 117.362 261.468 117.95 262.119 118.662L287.95 146.862C288.631 147.57 289.149 148.394 289.474 149.286C289.799 150.178 289.924 151.121 289.843 152.058C289.762 152.995 289.476 153.908 289.001 154.743C288.526 155.578 287.872 156.318 287.079 156.92C286.285 157.522 285.367 157.973 284.378 158.247C283.39 158.522 282.351 158.613 281.323 158.517C280.295 158.421 279.299 158.138 278.392 157.686C277.486 157.235 276.688 156.623 276.046 155.886L250.208 127.686C248.893 126.25 248.259 124.398 248.445 122.536C248.631 120.675 249.622 118.957 251.2 117.76Z" fill="#FDFCFE"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M251.2 184.988C249.622 183.792 248.631 182.073 248.445 180.212C248.259 178.351 248.893 176.498 250.208 175.062L276.046 146.862C276.688 146.126 277.486 145.514 278.392 145.062C279.299 144.61 280.295 144.328 281.323 144.231C282.351 144.135 283.39 144.227 284.378 144.501C285.367 144.775 286.285 145.226 287.079 145.828C287.872 146.43 288.526 147.17 289.001 148.005C289.476 148.84 289.762 149.753 289.843 150.69C289.924 151.627 289.799 152.57 289.474 153.462C289.149 154.354 288.631 155.179 287.95 155.886L262.119 184.086C261.468 184.798 260.668 185.386 259.767 185.817C258.865 186.247 257.879 186.512 256.865 186.596C255.851 186.68 254.829 186.581 253.857 186.305C252.884 186.029 251.982 185.582 251.2 184.988Z" fill="#FDFCFE"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M274.25 151.374C274.25 153.244 273.433 155.037 271.98 156.359C270.527 157.681 268.555 158.424 266.5 158.424L204.5 158.424C202.445 158.424 200.473 157.681 199.02 156.359C197.567 155.037 196.75 153.244 196.75 151.374C196.75 149.504 197.567 147.711 199.02 146.389C200.473 145.067 202.445 144.324 204.5 144.324L266.5 144.324C268.555 144.324 270.527 145.067 271.98 146.389C273.433 147.711 274.25 149.504 274.25 151.374Z" fill="#FDFCFE"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M122.817 63.1538C122.225 62.4437 121.778 61.6239 121.503 60.7411C121.227 59.8584 121.129 58.9301 121.212 58.0092C121.296 57.0884 121.56 56.193 121.99 55.3743C122.42 54.5557 123.007 53.8297 123.718 53.238L151.867 29.7823C152.574 29.1644 153.396 28.6941 154.287 28.3988C155.178 28.1036 156.119 27.9895 157.054 28.0633C157.99 28.137 158.901 28.3971 159.734 28.8282C160.568 29.2593 161.307 29.8528 161.907 30.5737C162.508 31.2946 162.959 32.1283 163.232 33.0259C163.506 33.9234 163.598 34.8667 163.501 35.8001C163.405 36.7336 163.123 37.6383 162.672 38.4612C162.221 39.2841 161.61 40.0085 160.875 40.5918L132.726 64.0545C131.292 65.2486 129.443 65.8244 127.585 65.6555C125.727 65.4866 124.012 64.5867 122.817 63.1538Z" fill="#FDFCFE"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M189.925 63.1538C188.73 64.5867 187.015 65.4866 185.157 65.6555C183.299 65.8244 181.45 65.2486 180.016 64.0545L151.866 40.5918C151.131 40.0085 150.52 39.2841 150.069 38.4612C149.618 37.6383 149.336 36.7336 149.24 35.8001C149.144 34.8667 149.235 33.9234 149.509 33.0259C149.783 32.1283 150.234 31.2946 150.834 30.5737C151.435 29.8528 152.174 29.2593 153.007 28.8282C153.841 28.3971 154.752 28.137 155.688 28.0633C156.623 27.9895 157.564 28.1036 158.455 28.3988C159.345 28.6941 160.168 29.1644 160.874 29.7823L189.024 53.238C189.734 53.8297 190.321 54.5557 190.751 55.3743C191.181 56.193 191.445 57.0884 191.529 58.0092C191.613 58.9301 191.514 59.8584 191.239 60.7411C190.964 61.6239 190.517 62.4437 189.925 63.1538Z" fill="#FDFCFE"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M156.369 42.2244C158.236 42.2244 160.026 42.9658 161.346 44.2856C162.665 45.6054 163.407 47.3953 163.407 49.2618V105.561C163.407 107.428 162.665 109.218 161.346 110.537C160.026 111.857 158.236 112.599 156.369 112.599C154.503 112.599 152.713 111.857 151.393 110.537C150.073 109.218 149.332 107.428 149.332 105.561V49.2618C149.332 47.3953 150.073 45.6054 151.393 44.2856C152.713 42.9658 154.503 42.2244 156.369 42.2244Z" fill="#FDFCFE"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M122.817 243.343C122.225 244.053 121.778 244.873 121.503 245.756C121.227 246.638 121.129 247.567 121.212 248.488C121.296 249.408 121.56 250.304 121.99 251.122C122.42 251.941 123.007 252.667 123.718 253.259L151.867 276.715C152.574 277.332 153.396 277.803 154.287 278.098C155.178 278.393 156.119 278.507 157.054 278.434C157.99 278.36 158.901 278.1 159.734 277.669C160.568 277.237 161.307 276.644 161.907 275.923C162.508 275.202 162.959 274.369 163.232 273.471C163.506 272.573 163.598 271.63 163.501 270.697C163.405 269.763 163.123 268.858 162.672 268.036C162.221 267.213 161.61 266.488 160.875 265.905L132.726 242.442C131.292 241.248 129.443 240.672 127.585 240.841C125.727 241.01 124.012 241.91 122.817 243.343Z" fill="#FDFCFE"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M189.925 243.343C188.73 241.91 187.015 241.01 185.157 240.841C183.299 240.672 181.45 241.248 180.016 242.442L151.866 265.905C151.131 266.488 150.52 267.213 150.069 268.036C149.618 268.858 149.336 269.763 149.24 270.697C149.144 271.63 149.235 272.573 149.509 273.471C149.783 274.369 150.234 275.202 150.834 275.923C151.435 276.644 152.174 277.237 153.007 277.669C153.841 278.1 154.752 278.36 155.688 278.434C156.623 278.507 157.564 278.393 158.455 278.098C159.345 277.803 160.168 277.332 160.874 276.715L189.024 253.259C189.734 252.667 190.321 251.941 190.751 251.122C191.181 250.304 191.445 249.408 191.529 248.488C191.613 247.567 191.514 246.638 191.239 245.756C190.964 244.873 190.517 244.053 189.925 243.343Z" fill="#FDFCFE"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M156.369 264.272C158.236 264.272 160.026 263.531 161.346 262.211C162.665 260.891 163.407 259.101 163.407 257.235V200.936C163.407 199.069 162.665 197.279 161.346 195.959C160.026 194.64 158.236 193.898 156.369 193.898C154.503 193.898 152.713 194.64 151.393 195.959C150.073 197.279 149.332 199.069 149.332 200.936V257.235C149.332 259.101 150.073 260.891 151.393 262.211C152.713 263.531 154.503 264.272 156.369 264.272Z" fill="#FDFCFE"/>
</svg>
      </li>
      <li>
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
          <path d="M13.3333 31.6666C15.1667 31.6666 16.6667 30.1666 16.6667 28.3333V11.6666C16.6667 9.83325 15.1667 8.33325 13.3333 8.33325C11.5 8.33325 10 9.83325 10 11.6666V28.3333C10 30.1666 11.5 31.6666 13.3333 31.6666ZM23.3333 11.6666V28.3333C23.3333 30.1666 24.8333 31.6666 26.6667 31.6666C28.5 31.6666 30 30.1666 30 28.3333V11.6666C30 9.83325 28.5 8.33325 26.6667 8.33325C24.8333 8.33325 23.3333 9.83325 23.3333 11.6666Z" fill="white"/>
        </svg>
      </li>
      <li style="color: #fff">
            <svg xmlns="http://www.w3.org/2000/svg" width="35" height="36" viewBox="0 0 35 36" fill="none">
          <path d="M33.5521 17.1402C34.2047 17.5277 34.2047 18.4723 33.5521 18.8598L10.2606 32.6914C9.59401 33.0872 8.75 32.6068 8.75 31.8316L8.75 4.16842C8.75 3.39315 9.59401 2.91275 10.2606 3.30861L33.5521 17.1402Z" fill="#FDFCFE"/>
        </svg>
      </li>
    </ul>
  </div>
  </div>
  </div>
  <div class="prose">
    <div id="musicText">{{ section.settings.body_text }}</div>
  </div>
<script>
    const textElement = document.getElementById('musicText');
    let svgList = document.getElementById("svg-list");
    let isPlaying = true;

    function togglePlayPause() {
      isPlaying = !isPlaying;
      if (isPlaying) {
        animateText([{{section.settings.words-to-colorate}}]);
      }
    }

    function animateText(wordsToBeColored) {
  if (!isPlaying) return;

  const words = textElement.innerText.split(' ');

  words.forEach((word, index) => {
    setTimeout(() => {
      const color = wordsToBeColored.includes(index + 1) ? '#0EC3FF' : 'black';

      textElement.innerHTML = words
        .map((w, i) => `<span class="musicWord" style="color: ${i === index ? color : 'black'}">${w}</span>`)
        .join(' ');

      if (index === words.length - 1) {
        setTimeout(() => {
          textElement.innerHTML = words.map(w => `<span class="musicWord" style="color: black">${w}</span>`).join(' ');
          setTimeout(() => animateText(wordsToBeColored), {{section.settings.text-anim-speed}}*1000);
        }, 1500);
      }
    }, index * {{section.settings.text-anim-speed}}*1000);
  });
}

    document.addEventListener('DOMContentLoaded', () => {
      setTimeout(function(){animateText([{{section.settings.words-to-colorate}}]);}, 0);
      svgList.style.animation = 'scrollUp 8s infinite';
    });
  </script>

  
{% schema %}
  {
    "name": "Animated Button Text",
    "settings": [
      {
        "type": "color",
        "id": "background_color",
        "label": "Background Color",
        "default": "#ffffff"
      },
      {
        "type": "color_background",
        "id": "background_gradient",
        "label": "Background Gradient"
      },
      {
        "type": "color",
        "id": "prose_color",
        "label": "Text Color",
        "default": "#030303"
      },
      {
          "type": "text",
          "id": "body_text",
          "label": "Body Text",
          "default": "<h1>Play, Pause & navigate music</h1>"
        },
      {
          "type": "number",
          "id": "text-anim-speed",
          "label": "Text Animation Speed"
        },
      {
          "type": "text",
          "id": "words-to-colorate",
          "label": "Choose words to color in animation",
          "default": "1, 3, 5"
        },
      {
          "type": "select",
          "id": "prose-size",
          "label": "Font Size",
          "options": [
            {
              "value": "var(--text-h0)",
              "label": "H0"
            },
            {
              "value": "var(--text-h1)",
              "label": "H1"
            },
            {
              "value": "var(--text-h2)",
              "label": "H2"
            },
            {
              "value": "var(--text-h3)",
              "label": "H3"
            },
            {
              "value": "var(--text-h4)",
              "label": "H4"
            },
            {
              "value": "var(--text-h5)",
              "label": "H5"
            }
          ],
          "default": "var(--text-h1)"
        },
       {
          "type": "select",
          "id": "prose-weight",
          "label": "Font Weight",
          "options": [
            {
              "value": "Gotham-Light",
              "label": "100"
            },
            {
              "value": "Gotham-Medium",
              "label": "300"
            },
            {
              "value": "Gotham-Bold",
              "label": "500"
            },
            {
              "value": "Gotham-Ultra",
              "label": "900"
            }
          ],
          "default": "Gotham-Bold"
        }
    ],
    "presets": [
      {
        "name": "Animated Button Text"
      }
    ]
  }
{% endschema %}